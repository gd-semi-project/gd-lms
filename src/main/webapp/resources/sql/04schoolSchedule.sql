CREATE TABLE IF NOT EXISTS schoolSchedule (
    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '학사일정 PK',

    schedule_code ENUM(
        'LECTURE_OPEN_REQUEST',
        'LECTURE_OPEN_REVIEW_DEPT',
        'LECTURE_OPEN_REVISION_WINDOW',
        'LECTURE_OPEN_APPROVAL_ADMIN',
        'INSTRUCTOR_ASSIGN_CONFIRM',
        'SECTION_QUOTA_CONFIRM',
        'TIMETABLE_BUILD_DEPT',
        'CLASSROOM_ASSIGN_ANNOUNCE',
        'CLASSROOM_ASSIGN_FINAL',
        'SYLLABUS_FINAL_INPUT',
        'LMS_COURSE_SPACE_AUTO_CREATE',
        'COURSE_REG_FRESHMAN',
        'COURSE_REG_ENROLLED',
        'COURSE_ADD_DROP',
        'SEMESTER_START',
        'CLASS_DAYS',
        'SEMESTER_END',
        'MIDTERM_EXAM',
        'FINAL_EXAM',
        'MIDTERM_GRADE_APPEAL',
        'FINAL_GRADE_APPEAL',
        'GRADE_INPUT_INSTRUCTOR'
    ) NOT NULL COMMENT '학사일정 코드 (ScheduleCode enum 1:1)',

    title VARCHAR(100) NOT NULL COMMENT '일정 제목',

    start_date DATE NOT NULL COMMENT '시작일',
    end_date DATE NOT NULL COMMENT '종료일',

    memo TEXT NULL COMMENT '일정 상세 메모',

    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성일',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
        ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일',

    -- 기간 유효성
    CONSTRAINT chk_schedule_dates CHECK (start_date <= end_date),

    -- 조회 최적화
    INDEX idx_schedule_code (schedule_code),
    INDEX idx_schedule_start (start_date),
    INDEX idx_schedule_period (start_date, end_date),
    INDEX idx_schedule_code_start (schedule_code, start_date)
)
ENGINE=InnoDB
DEFAULT CHARSET=utf8mb4
COLLATE=utf8mb4_unicode_ci
COMMENT='대학교 공식 학사일정 테이블';

INSERT INTO schoolSchedule (schedule_code, title, start_date, end_date, memo) VALUES
-- ===== 2024 1학기 운영(사전) =====
('LECTURE_OPEN_REQUEST',        '2024-1 강의개설 신청(강사/학과)',        '2024-01-08', '2024-01-19', '강사/학과에서 강의개설 요청 등록(강의계획서 초안 포함)'),
('LECTURE_OPEN_REVIEW_DEPT',    '2024-1 강의개설 1차 검토(학과)',         '2024-01-22', '2024-01-26', '학과장/조교 검토: 정원/전공필수 여부/시간 적합성 확인'),
('LECTURE_OPEN_APPROVAL_ADMIN', '2024-1 강의개설 승인·반려 처리(교무)',   '2024-01-29', '2024-02-02', '관리자 승인/반려 및 반려사유 입력'),
('TIMETABLE_BUILD_DEPT',        '2024-1 시간표 편성(학과)',               '2024-02-05', '2024-02-16', '강의실/시간 충돌 조정, 분반 확정'),
('SYLLABUS_FINAL_INPUT',        '2024-1 강의계획서 최종 입력 마감',       '2024-02-19', '2024-02-23', '강사 강의계획서(평가방식/주차계획) 최종 제출'),
('CLASSROOM_ASSIGN_ANNOUNCE',   '2024-1 강의실 배정 공지',               '2024-02-26', '2024-02-26', '강의실 최종 배정 결과 공지'),

-- ===== 2024 1학기 수강/학사 =====
('COURSE_REG_FRESHMAN',         '2024-1 신입생 수강신청(1차)',            '2024-02-19', '2024-02-23', '신입생 우선 수강신청'),
('COURSE_REG_ENROLLED',         '2024-1 재학생 수강신청',                 '2024-02-26', '2024-03-01', '재학생 수강신청'),
('COURSE_ADD_DROP',             '2024-1 수강신청 정정기간',               '2024-03-04', '2024-03-08', '정정/철회'),
('SEMESTER_START',              '2024-1 개강',                            '2024-03-04', '2024-03-04', '1학기 수업 시작'),
('CLASS_DAYS',                  '2024 신입생 오리엔테이션(OT)',           '2024-03-05', '2024-03-05', '신입생 OT'),
('CLASS_DAYS',                  '2024-1 수업일수 1/4선',                  '2024-03-25', '2024-03-25', '수업진도 점검 기준일'),
('MIDTERM_EXAM',                '2024-1 중간고사 기간',                   '2024-04-22', '2024-04-26', '중간고사 주간'),
('MIDTERM_GRADE_APPEAL',        '2024-1 중간고사 성적 열람/이의신청',     '2024-04-29', '2024-05-03', '이의신청/정정'),
('CLASS_DAYS',                  '2024 봄 축제(대동제)',                   '2024-05-13', '2024-05-17', '교내 축제'),
('CLASS_DAYS',                  '2024-1 수업일수 3/4선',                  '2024-05-27', '2024-05-27', '성적 산정 기준일'),
('FINAL_EXAM',                  '2024-1 기말고사 기간',                   '2024-06-17', '2024-06-21', '기말고사 주간'),
('SEMESTER_END',                '2024-1 종강',                            '2024-06-24', '2024-06-24', '1학기 수업 종료'),
('GRADE_INPUT_INSTRUCTOR',      '2024-1 성적 입력기간(교강사)',           '2024-06-24', '2024-06-28', '교강사 성적 입력'),
('FINAL_GRADE_APPEAL',          '2024-1 성적 열람/이의신청(학생)',         '2024-07-01', '2024-07-05', '성적 열람 및 이의신청'),
('CLASS_DAYS',                  '2024-여름 계절학기 수강신청',            '2024-07-01', '2024-07-05', '계절학기 신청'),
('CLASS_DAYS',                  '2024-여름 계절학기 운영',                '2024-07-08', '2024-07-26', '여름 계절학기'),

-- ===== 2024 2학기 운영(사전) =====
('LECTURE_OPEN_REQUEST',        '2024-2 강의개설 신청(강사/학과)',        '2024-07-29', '2024-08-09', '2학기 강의개설 요청'),
('LECTURE_OPEN_APPROVAL_ADMIN', '2024-2 강의개설 승인·반려 처리(교무)',   '2024-08-12', '2024-08-16', '관리자 승인/반려'),
('TIMETABLE_BUILD_DEPT',        '2024-2 시간표 편성(학과)',               '2024-08-19', '2024-08-23', '강의실/시간표 확정'),
('SYLLABUS_FINAL_INPUT',        '2024-2 강의계획서 최종 입력 마감',       '2024-08-26', '2024-08-30', '강의계획서 최종'),

-- ===== 2024 2학기 수강/학사 =====
('COURSE_REG_ENROLLED',         '2024-2 재학생 수강신청',                 '2024-08-19', '2024-08-23', '재학생 수강신청'),
('COURSE_ADD_DROP',             '2024-2 수강신청 정정기간',               '2024-09-02', '2024-09-06', '정정/철회'),
('SEMESTER_START',              '2024-2 개강',                            '2024-09-02', '2024-09-02', '2학기 수업 시작'),
('CLASS_DAYS',                  '2024 동아리 박람회',                     '2024-09-23', '2024-09-27', '동아리 홍보/모집'),
('MIDTERM_EXAM',                '2024-2 중간고사 기간',                   '2024-10-21', '2024-10-25', '중간고사 주간'),
('FINAL_EXAM',                  '2024-2 기말고사 기간',                   '2024-12-09', '2024-12-13', '기말고사 주간'),
('SEMESTER_END',                '2024-2 종강',                            '2024-12-16', '2024-12-16', '2학기 수업 종료'),
('GRADE_INPUT_INSTRUCTOR',      '2024-2 성적 입력기간(교강사)',           '2024-12-16', '2024-12-20', '성적 입력'),
('FINAL_GRADE_APPEAL',          '2024-2 성적 열람/이의신청(학생)',         '2024-12-23', '2024-12-27', '성적 열람/이의신청'),
('CLASS_DAYS',                  '2024-겨울 계절학기 운영',                '2025-01-06', '2025-01-24', '동계 계절학기(연도 걸침)');

INSERT INTO schoolSchedule (schedule_code, title, start_date, end_date, memo) VALUES
-- ===== 2025 1학기 운영(사전) =====
('LECTURE_OPEN_REQUEST',        '2025-1 강의개설 신청(강사/학과)',        '2025-01-06', '2025-01-17', '강의개설 요청/계획서 초안'),
('LECTURE_OPEN_APPROVAL_ADMIN', '2025-1 강의개설 승인·반려 처리(교무)',   '2025-01-20', '2025-01-24', '관리자 승인/반려'),
('SECTION_QUOTA_CONFIRM',       '2025-1 분반/정원 확정(학과)',            '2025-01-27', '2025-01-31', '분반/정원 확정'),
('TIMETABLE_BUILD_DEPT',        '2025-1 시간표 편성(학과)',               '2025-02-03', '2025-02-14', '시간표/강의실 조정'),
('SYLLABUS_FINAL_INPUT',        '2025-1 강의계획서 최종 입력 마감',       '2025-02-17', '2025-02-21', '평가비율/주차계획 확정'),
('CLASSROOM_ASSIGN_ANNOUNCE',   '2025-1 강의실 배정 공지',               '2025-02-24', '2025-02-24', '강의실 확정 공지'),

-- ===== 2025 1학기 수강/학사 =====
('COURSE_REG_FRESHMAN',         '2025-1 신입생 수강신청(1차)',            '2025-02-17', '2025-02-21', '신입생 우선'),
('COURSE_REG_ENROLLED',         '2025-1 재학생 수강신청',                 '2025-02-24', '2025-02-28', '재학생'),
('COURSE_ADD_DROP',             '2025-1 수강신청 정정기간',               '2025-03-04', '2025-03-07', '정정/철회'),
('SEMESTER_START',              '2025-1 개강',                            '2025-03-04', '2025-03-04', '1학기 개강'),
('CLASS_DAYS',                  '2025 입학식',                            '2025-03-04', '2025-03-04', '입학식'),
('CLASS_DAYS',                  '2025 신입생 OT',                         '2025-03-05', '2025-03-05', '오리엔테이션'),
('MIDTERM_EXAM',                '2025-1 중간고사 기간',                   '2025-04-21', '2025-04-25', '중간고사'),
('CLASS_DAYS',                  '2025 봄 축제(대동제)',                   '2025-05-12', '2025-05-16', '축제 주간'),
('FINAL_EXAM',                  '2025-1 기말고사 기간',                   '2025-06-16', '2025-06-20', '기말고사'),
('SEMESTER_END',                '2025-1 종강',                            '2025-06-23', '2025-06-23', '종강'),
('GRADE_INPUT_INSTRUCTOR',      '2025-1 성적 입력기간(교강사)',           '2025-06-23', '2025-06-27', '성적 입력'),
('FINAL_GRADE_APPEAL',          '2025-1 성적 열람/이의신청(학생)',         '2025-06-30', '2025-07-04', '열람/이의신청'),
('CLASS_DAYS',                  '2025-여름 계절학기 수강신청',            '2025-06-30', '2025-07-04', '계절학기 신청'),
('CLASS_DAYS',                  '2025-여름 계절학기 운영',                '2025-07-07', '2025-07-25', '여름 계절학기'),

-- ===== 2025 2학기 운영(사전) =====
('LECTURE_OPEN_REQUEST',        '2025-2 강의개설 신청(강사/학과)',        '2025-07-28', '2025-08-08', '2학기 강의개설 요청'),
('LECTURE_OPEN_APPROVAL_ADMIN', '2025-2 강의개설 승인·반려 처리(교무)',   '2025-08-11', '2025-08-14', '승인/반려'),
('TIMETABLE_BUILD_DEPT',        '2025-2 시간표 편성(학과)',               '2025-08-18', '2025-08-22', '시간표/강의실 확정'),
('SYLLABUS_FINAL_INPUT',        '2025-2 강의계획서 최종 입력 마감',       '2025-08-25', '2025-08-29', '강의계획서 최종'),

-- ===== 2025 2학기 수강/학사 =====
('COURSE_REG_ENROLLED',         '2025-2 재학생 수강신청',                 '2025-08-18', '2025-08-22', '수강신청'),
('COURSE_ADD_DROP',             '2025-2 수강신청 정정기간',               '2025-09-01', '2025-09-05', '정정/철회'),
('SEMESTER_START',              '2025-2 개강',                            '2025-09-01', '2025-09-01', '2학기 개강'),
('CLASS_DAYS',                  '2025 동아리 박람회',                     '2025-09-22', '2025-09-26', '동아리/학생회 행사'),
('MIDTERM_EXAM',                '2025-2 중간고사 기간',                   '2025-10-20', '2025-10-24', '중간고사'),
('CLASS_DAYS',                  '2025 취업·진로 주간',                    '2025-11-10', '2025-11-14', '특강/박람회'),
('FINAL_EXAM',                  '2025-2 기말고사 기간',                   '2025-12-08', '2025-12-12', '기말고사'),
('SEMESTER_END',                '2025-2 종강',                            '2025-12-15', '2025-12-15', '종강'),
('GRADE_INPUT_INSTRUCTOR',      '2025-2 성적 입력기간(교강사)',           '2025-12-15', '2025-12-19', '성적 입력'),
('FINAL_GRADE_APPEAL',          '2025-2 성적 열람/이의신청(학생)',         '2025-12-22', '2025-12-26', '열람/이의신청'),
('CLASS_DAYS',                  '2025-겨울 계절학기 운영',                '2026-01-05', '2026-01-23', '동계 계절학기(연도 걸침)'),
('CLASS_DAYS',                  '2025 학위수여식(졸업식)',                 '2026-02-20', '2026-02-20', '졸업식(2025학년도)');

INSERT INTO schoolSchedule (schedule_code, title, start_date, end_date, memo) VALUES
-- ===== 2026 1학기 운영(사전: 강의개설~승인~시간표) =====
('LECTURE_OPEN_REQUEST',        '2026-1 강의개설 신청(강사/학과)',        '2026-01-05', '2026-01-16', '강사/학과 강의개설 요청(계획서 초안 포함)'),
('LECTURE_OPEN_REVISION_WINDOW','2026-1 강의개설 변경/보완 요청 기간',     '2026-01-19', '2026-01-23', '반려/보완건 재제출'),
('LECTURE_OPEN_APPROVAL_ADMIN', '2026-1 강의개설 승인·반려 처리(교무)',   '2026-01-26', '2026-01-30', '관리자 승인/반려 및 사유 입력'),
('INSTRUCTOR_ASSIGN_CONFIRM',   '2026-1 강사 배정 확정(학과)',             '2026-02-02', '2026-02-06', '담당교강사 확정 및 계약/배정 정리'),
('TIMETABLE_BUILD_DEPT',        '2026-1 시간표 편성(학과)',               '2026-02-09', '2026-02-20', '시간표/강의실 충돌 조정'),
('CLASSROOM_ASSIGN_FINAL',      '2026-1 강의실 최종 배정',                 '2026-02-23', '2026-02-23', '강의실 확정 공지'),
('SYLLABUS_FINAL_INPUT',        '2026-1 강의계획서 최종 입력(강사)',       '2026-02-23', '2026-02-27', '평가비율/출결/과제/주차계획 확정 입력'),
('LMS_COURSE_SPACE_AUTO_CREATE','2026-1 LMS 강의공간 자동 생성',           '2026-02-27', '2026-02-27', '승인된 강의 대상으로 강의공간 생성'),

-- ===== 2026 1학기 수강/학사 =====
('COURSE_REG_FRESHMAN',         '2026-1 신입생 수강신청(1차)',            '2026-02-16', '2026-02-20', '신입생 우선 수강신청'),
('COURSE_REG_ENROLLED',         '2026-1 재학생 수강신청',                 '2026-02-23', '2026-02-27', '재학생 수강신청'),
('COURSE_ADD_DROP',             '2026-1 수강신청 정정기간(1차)',           '2026-03-02', '2026-03-06', '정정/철회'),
('CLASS_DAYS',                  '2026 입학식',                            '2026-03-02', '2026-03-02', '입학식 및 개강일'),
('SEMESTER_START',              '2026-1 개강',                            '2026-03-02', '2026-03-02', '1학기 개강'),
('CLASS_DAYS',                  '2026 신입생 OT',                         '2026-03-03', '2026-03-03', '오리엔테이션'),
('COURSE_ADD_DROP',             '2026-1 수강신청 정정기간(2차)',           '2026-03-09', '2026-03-13', '추가 정정'),
('CLASS_DAYS',                  '2026-1 수업일수 1/4선',                  '2026-03-23', '2026-03-23', '수업진도 점검 기준일'),
('MIDTERM_EXAM',                '2026-1 중간고사 기간',                   '2026-04-06', '2026-04-10', '중간고사 주간'),
('MIDTERM_GRADE_APPEAL',        '2026-1 중간고사 성적 열람/이의신청',     '2026-04-13', '2026-04-17', '이의신청/정정'),
('CLASS_DAYS',                  '2026 봄 축제(대동제)',                   '2026-05-04', '2026-05-08', '축제'),
('CLASS_DAYS',                  '2026-1 수업일수 3/4선',                  '2026-05-18', '2026-05-18', '성적 산정 기준일'),
('FINAL_EXAM',                  '2026-1 기말고사 기간',                   '2026-06-08', '2026-06-12', '기말고사 주간'),
('SEMESTER_END',                '2026-1 종강',                            '2026-06-15', '2026-06-15', '1학기 종강'),
('GRADE_INPUT_INSTRUCTOR',      '2026-1 성적 입력기간(교강사)',           '2026-06-15', '2026-06-19', '교강사 성적 입력'),
('FINAL_GRADE_APPEAL',          '2026-1 성적 열람/이의신청(학생)',         '2026-06-22', '2026-06-26', '학생 성적 열람/이의신청'),
('CLASS_DAYS',                  '2026-여름 계절학기 수강신청',            '2026-06-29', '2026-07-03', '계절학기 신청'),
('CLASS_DAYS',                  '2026-여름 계절학기 운영',                '2026-07-06', '2026-07-24', '여름 계절학기'),

-- ===== 2026 2학기 운영(사전: 강의개설~승인~시간표) =====
('LECTURE_OPEN_REQUEST',        '2026-2 강의개설 신청(강사/학과)',        '2026-07-27', '2026-08-07', '2학기 강의개설 요청'),
('LECTURE_OPEN_APPROVAL_ADMIN', '2026-2 강의개설 승인·반려 처리(교무)',   '2026-08-10', '2026-08-14', '승인/반려'),
('TIMETABLE_BUILD_DEPT',        '2026-2 시간표 편성(학과)',               '2026-08-17', '2026-08-21', '시간표/강의실 확정'),
('SYLLABUS_FINAL_INPUT',        '2026-2 강의계획서 최종 입력(강사)',       '2026-08-24', '2026-08-28', '강의계획서 최종 입력'),
('LMS_COURSE_SPACE_AUTO_CREATE','2026-2 LMS 강의공간 자동 생성',           '2026-08-28', '2026-08-28', '승인된 강의 강의공간 생성'),

-- ===== 2026 2학기 수강/학사 =====
('COURSE_REG_ENROLLED',         '2026-2 재학생 수강신청',                 '2026-08-17', '2026-08-21', '수강신청'),
('COURSE_ADD_DROP',             '2026-2 수강신청 정정기간',               '2026-09-01', '2026-09-04', '정정/철회'),
('SEMESTER_START',              '2026-2 개강',                            '2026-09-01', '2026-09-01', '2학기 개강'),
('CLASS_DAYS',                  '2026 동아리 박람회',                     '2026-09-21', '2026-09-25', '동아리/학생회 행사'),
('MIDTERM_EXAM',                '2026-2 중간고사 기간',                   '2026-10-12', '2026-10-16', '중간고사'),
('CLASS_DAYS',                  '2026 취업·진로 주간',                    '2026-11-09', '2026-11-13', '취업박람회/특강'),
('FINAL_EXAM',                  '2026-2 기말고사 기간',                   '2026-12-07', '2026-12-11', '기말고사'),
('SEMESTER_END',                '2026-2 종강',                            '2026-12-14', '2026-12-14', '2학기 종강'),
('GRADE_INPUT_INSTRUCTOR',      '2026-2 성적 입력기간(교강사)',           '2026-12-14', '2026-12-18', '성적 입력'),
('FINAL_GRADE_APPEAL',          '2026-2 성적 열람/이의신청(학생)',         '2026-12-21', '2026-12-24', '성적 열람/이의신청'),
('CLASS_DAYS',                  '2026-겨울 계절학기 운영',                '2027-01-05', '2027-01-23', '동계 계절학기(연도 걸침)'),
('CLASS_DAYS',                  '2026 학위수여식(졸업식)',                 '2027-02-19', '2027-02-19', '졸업식(2026학년도)');
